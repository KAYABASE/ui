<template>
  <div
    style="height: 100vh; background-color: #363740"
    class="d-flex justify-content-center align-items-center"
  >
    <div class="card px-2" style="width: 25rem; border-radius: 0.5rem">
      <div class="text-center my-4">
        <svg
          width="102"
          height="80"
          viewBox="0 0 102 80"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            opacity="0.7"
            d="M9.61257 79L3.32357 72.673V79H0.872569V65.472H3.32357V71.533L9.36557 65.472H12.3106L5.73657 71.97L12.6146 79H9.61257ZM22.6727 75.827H16.0607L14.6927 79H12.2227L18.3407 65.472H20.3357L26.4727 79H24.0217L22.6727 75.827ZM21.8557 73.927L19.3667 68.132L16.8777 73.927H21.8557ZM32.4965 73.642V79H30.0455V73.642L24.5545 65.472H27.3475L31.2615 71.59L35.1945 65.472H37.9875L32.4965 73.642ZM46.5176 75.827H39.9056L38.5376 79H36.0676L42.1856 65.472H44.1806L50.3176 79H47.8666L46.5176 75.827ZM45.7006 73.927L43.2116 68.132L40.7226 73.927H45.7006ZM60.5026 72.008C61.2879 72.236 61.8896 72.635 62.3076 73.205C62.7382 73.775 62.9536 74.478 62.9536 75.314C62.9536 76.4667 62.5419 77.3723 61.7186 78.031C60.9079 78.677 59.7742 79 58.3176 79H52.1806V65.472H58.1276C59.5209 65.472 60.6166 65.7887 61.4146 66.422C62.2126 67.0427 62.6116 67.904 62.6116 69.006C62.6116 69.7153 62.4216 70.336 62.0416 70.868C61.6742 71.3873 61.1612 71.7673 60.5026 72.008ZM54.5746 71.172H57.7286C59.4259 71.172 60.2746 70.5387 60.2746 69.272C60.2746 68.6387 60.0656 68.1637 59.6476 67.847C59.2296 67.5303 58.5899 67.372 57.7286 67.372H54.5746V71.172ZM58.0516 77.1C58.9382 77.1 59.5842 76.9417 59.9896 76.625C60.4076 76.3083 60.6166 75.808 60.6166 75.124C60.6166 74.4273 60.4076 73.9143 59.9896 73.585C59.5842 73.2557 58.9382 73.091 58.0516 73.091H54.5746V77.1H58.0516ZM74.6301 75.827H68.0181L66.6501 79H64.1801L70.2981 65.472H72.2931L78.4301 79H75.9791L74.6301 75.827ZM73.8131 73.927L71.3241 68.132L68.8351 73.927H73.8131ZM84.7051 79.171C83.6664 79.171 82.6911 79.0317 81.7791 78.753C80.8798 78.4743 80.1134 78.0753 79.4801 77.556L80.3161 75.77C80.9748 76.264 81.6588 76.6313 82.3681 76.872C83.0901 77.1 83.8754 77.214 84.7241 77.214C85.6614 77.214 86.3834 77.0493 86.8901 76.72C87.4094 76.3907 87.6691 75.9283 87.6691 75.333C87.6691 74.8263 87.4284 74.44 86.9471 74.174C86.4784 73.8953 85.6994 73.6357 84.6101 73.395C82.9128 73.0277 81.6778 72.5527 80.9051 71.97C80.1324 71.3873 79.7461 70.5387 79.7461 69.424C79.7461 68.626 79.9614 67.9167 80.3921 67.296C80.8228 66.6753 81.4308 66.1877 82.2161 65.833C83.0141 65.4783 83.9324 65.301 84.9711 65.301C85.9211 65.301 86.8204 65.4467 87.6691 65.738C88.5304 66.0167 89.2334 66.4093 89.7781 66.916L88.9611 68.702C87.7578 67.7393 86.4278 67.258 84.9711 67.258C84.0971 67.258 83.4068 67.4417 82.9001 67.809C82.3934 68.1637 82.1401 68.6513 82.1401 69.272C82.1401 69.804 82.3618 70.2093 82.8051 70.488C83.2611 70.7667 84.0338 71.0263 85.1231 71.267C86.2504 71.533 87.1688 71.8243 87.8781 72.141C88.5874 72.445 89.1321 72.844 89.5121 73.338C89.8921 73.8193 90.0821 74.4273 90.0821 75.162C90.0821 75.9727 89.8668 76.682 89.4361 77.29C89.0054 77.8853 88.3848 78.3477 87.5741 78.677C86.7634 79.0063 85.8071 79.171 84.7051 79.171ZM92.7536 65.472H101.798V67.41H95.1476V71.153H101.399V73.091H95.1476V77.062H101.798V79H92.7536V65.472Z"
            fill="#A4A6B3"
          />
          <circle cx="51" cy="24" r="24" fill="#3751FF" />
          <path
            d="M43.5 14.5C43.5 13.9477 43.9477 13.5 44.5 13.5H50.9857C54.319 13.5 56.9 14.4143 58.7286 16.243C60.5762 18.0716 61.5 20.6475 61.5 23.9705C61.5 27.3132 60.5762 29.9087 58.7286 31.757C56.9 33.5857 54.319 34.5 50.9857 34.5H44.5C43.9477 34.5 43.5 34.0523 43.5 33.5V14.5Z"
            fill="url(#paint0_linear_0_1)"
          />
          <defs>
            <linearGradient
              id="paint0_linear_0_1"
              x1="43.5"
              y1="13.5"
              x2="61.5"
              y2="34.5"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="white" stop-opacity="0.7" />
              <stop offset="1" stop-color="white" />
            </linearGradient>
          </defs>
        </svg>
      </div>
      <div class="card-header bg-transparent border-0 text-center">
        <span class="fw-bold fs-5"> Register to Kayabase Account </span>
        <p class="text-muted mt-1" style="font-size: 14px">
          Enter your email and password below
        </p>
      </div>
      <div class="card-body">
        <div class="mb-3">
          <label
            for="name-surname"
            class="form-label text-muted"
            style="font-size: 14px"
            >First Name</label
          >
          <input
            type="text"
            class="form-control bg-light-gray"
            id="name-surname"
            placeholder="First Name"
            v-model="first_name"
          />
        </div>
        <div class="mb-3">
          <label
            for="name-surname"
            class="form-label text-muted"
            style="font-size: 14px"
            >Last Name</label
          >
          <input
            type="text"
            class="form-control bg-light-gray"
            id="name-surname"
            placeholder="Last Name"
            v-model="last_name"
          />
        </div>
        <div class="mb-3">
          <label
            for="name-surname"
            class="form-label text-muted"
            style="font-size: 14px"
          >
            Name</label
          >
          <input
            type="text"
            class="form-control bg-light-gray"
            id="name-surname"
            placeholder="Name"
            v-model="name"
          />
        </div>
        <div class="mb-3">
          <label
            for="name-surname"
            class="form-label text-muted"
            style="font-size: 14px"
          >
            Phone Number</label
          >
          <input
            type="text"
            class="form-control bg-light-gray"
            id="name-surname"
            placeholder="Phone Number"
            v-model="phone"
          />
        </div>
        <div class="mb-3">
          <label
            for="register-email"
            class="form-label text-muted"
            style="font-size: 14px"
            >EMAIL</label
          >
          <input
            type="email"
            class="form-control bg-light-gray"
            id="register-email"
            placeholder="Email address"
            v-model="email"
          />
        </div>
        <label
          for="register-password"
          class="form-label text-muted"
          style="font-size: 14px"
          >PASSWORD</label
        >
        <div class="input-group mb-3">
          <input
            :type="seePassword ? 'text' : 'password'"
            class="form-control bg-light-gray"
            id="register-password"
            placeholder="Password"
            v-model="password"
          />
          <span
            class="input-group-text"
            style="cursor: pointer"
            id="basic-addon2"
          >
            <svg
              v-if="seePassword"
              @click="seePassword = false"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
            >
              <path
                d="M15 12c0 1.654-1.346 3-3 3s-3-1.346-3-3 1.346-3 3-3 3 1.346 3 3zm9-.449s-4.252 8.449-11.985 8.449c-7.18 0-12.015-8.449-12.015-8.449s4.446-7.551 12.015-7.551c7.694 0 11.985 7.551 11.985 7.551zm-7 .449c0-2.757-2.243-5-5-5s-5 2.243-5 5 2.243 5 5 5 5-2.243 5-5z"
              />
            </svg>
            <svg
              v-else
              @click="seePassword = true"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
            >
              <path
                d="M11.885 14.988l3.104-3.098.011.11c0 1.654-1.346 3-3 3l-.115-.012zm8.048-8.032l-3.274 3.268c.212.554.341 1.149.341 1.776 0 2.757-2.243 5-5 5-.631 0-1.229-.13-1.785-.344l-2.377 2.372c1.276.588 2.671.972 4.177.972 7.733 0 11.985-8.449 11.985-8.449s-1.415-2.478-4.067-4.595zm1.431-3.536l-18.619 18.58-1.382-1.422 3.455-3.447c-3.022-2.45-4.818-5.58-4.818-5.58s4.446-7.551 12.015-7.551c1.825 0 3.456.426 4.886 1.075l3.081-3.075 1.382 1.42zm-13.751 10.922l1.519-1.515c-.077-.264-.132-.538-.132-.827 0-1.654 1.346-3 3-3 .291 0 .567.055.833.134l1.518-1.515c-.704-.382-1.496-.619-2.351-.619-2.757 0-5 2.243-5 5 0 .852.235 1.641.613 2.342z"
              />
            </svg>
          </span>
        </div>
        <label
          for="register-password-again"
          class="form-label text-muted"
          style="font-size: 14px"
          >PASSWORD AGAIN</label
        >
        <div class="input-group mb-3">
          <input
            :type="seePassword ? 'text' : 'password'"
            class="form-control bg-light-gray"
            id="register-password-again"
            placeholder="Password again"
            v-model="password_confirmation"
          />
          <span
            class="input-group-text"
            style="cursor: pointer"
            id="basic-addon2"
          >
            <svg
              v-if="seePassword"
              @click="seePassword = false"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
            >
              <path
                d="M15 12c0 1.654-1.346 3-3 3s-3-1.346-3-3 1.346-3 3-3 3 1.346 3 3zm9-.449s-4.252 8.449-11.985 8.449c-7.18 0-12.015-8.449-12.015-8.449s4.446-7.551 12.015-7.551c7.694 0 11.985 7.551 11.985 7.551zm-7 .449c0-2.757-2.243-5-5-5s-5 2.243-5 5 2.243 5 5 5 5-2.243 5-5z"
              />
            </svg>
            <svg
              v-else
              @click="seePassword = true"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
            >
              <path
                d="M11.885 14.988l3.104-3.098.011.11c0 1.654-1.346 3-3 3l-.115-.012zm8.048-8.032l-3.274 3.268c.212.554.341 1.149.341 1.776 0 2.757-2.243 5-5 5-.631 0-1.229-.13-1.785-.344l-2.377 2.372c1.276.588 2.671.972 4.177.972 7.733 0 11.985-8.449 11.985-8.449s-1.415-2.478-4.067-4.595zm1.431-3.536l-18.619 18.58-1.382-1.422 3.455-3.447c-3.022-2.45-4.818-5.58-4.818-5.58s4.446-7.551 12.015-7.551c1.825 0 3.456.426 4.886 1.075l3.081-3.075 1.382 1.42zm-13.751 10.922l1.519-1.515c-.077-.264-.132-.538-.132-.827 0-1.654 1.346-3 3-3 .291 0 .567.055.833.134l1.518-1.515c-.704-.382-1.496-.619-2.351-.619-2.757 0-5 2.243-5 5 0 .852.235 1.641.613 2.342z"
              />
            </svg>
          </span>
        </div>
        <div class="mb-3">
          <button class="btn btn-primary w-100" @click="register">
            Sign In
          </button>
        </div>
        <div class="mb-3">
          <p class="text-muted">
            Do you have an account?
            <router-link to="/login" class="text-decoration-none"
              >Log In</router-link
            >
          </p>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: "Register",
  data() {
    return {
      seePassword: false,
      first_name: "",
      last_name: "",
      name: "",
      phone: "",
      email: "",
      password: "",
      password_confirmation: "",
    };
  },
  methods: {
    async register() {
      try {
        this.$store.dispatch("register", {
          first_name: this.first_name,
          last_name: this.last_name,
          name: this.name,
          phone: this.phone,
          email: this.email,
          password: this.password,
          password_confirmation: this.password_confirmation,
        });
      } catch (error) {
        console.log(error);
      }
    },
  },
};
</script>
