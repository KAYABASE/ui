<template>
  <div class="sidebar border-end bg-dark">
    <div class="mx-3 my-5">
      <svg
        width="147"
        height="32"
        viewBox="0 0 147 32"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          opacity="0.7"
          d="M54.203 23L47.914 16.673V23H45.463V9.472H47.914V15.533L53.956 9.472H56.901L50.327 15.97L57.205 23H54.203ZM67.2631 19.827H60.6511L59.2831 23H56.8131L62.9311 9.472H64.9261L71.0631 23H68.6121L67.2631 19.827ZM66.4461 17.927L63.9571 12.132L61.4681 17.927H66.4461ZM77.0869 17.642V23H74.6359V17.642L69.1449 9.472H71.9379L75.8519 15.59L79.7849 9.472H82.5779L77.0869 17.642ZM91.108 19.827H84.496L83.128 23H80.658L86.776 9.472H88.771L94.908 23H92.457L91.108 19.827ZM90.291 17.927L87.802 12.132L85.313 17.927H90.291ZM105.093 16.008C105.878 16.236 106.48 16.635 106.898 17.205C107.329 17.775 107.544 18.478 107.544 19.314C107.544 20.4667 107.132 21.3723 106.309 22.031C105.498 22.677 104.365 23 102.908 23H96.771V9.472H102.718C104.111 9.472 105.207 9.78867 106.005 10.422C106.803 11.0427 107.202 11.904 107.202 13.006C107.202 13.7153 107.012 14.336 106.632 14.868C106.265 15.3873 105.752 15.7673 105.093 16.008ZM99.165 15.172H102.319C104.016 15.172 104.865 14.5387 104.865 13.272C104.865 12.6387 104.656 12.1637 104.238 11.847C103.82 11.5303 103.18 11.372 102.319 11.372H99.165V15.172ZM102.642 21.1C103.529 21.1 104.175 20.9417 104.58 20.625C104.998 20.3083 105.207 19.808 105.207 19.124C105.207 18.4273 104.998 17.9143 104.58 17.585C104.175 17.2557 103.529 17.091 102.642 17.091H99.165V21.1H102.642ZM119.221 19.827H112.609L111.241 23H108.771L114.889 9.472H116.884L123.021 23H120.57L119.221 19.827ZM118.404 17.927L115.915 12.132L113.426 17.927H118.404ZM129.296 23.171C128.257 23.171 127.282 23.0317 126.37 22.753C125.47 22.4743 124.704 22.0753 124.071 21.556L124.907 19.77C125.565 20.264 126.249 20.6313 126.959 20.872C127.681 21.1 128.466 21.214 129.315 21.214C130.252 21.214 130.974 21.0493 131.481 20.72C132 20.3907 132.26 19.9283 132.26 19.333C132.26 18.8263 132.019 18.44 131.538 18.174C131.069 17.8953 130.29 17.6357 129.201 17.395C127.503 17.0277 126.268 16.5527 125.496 15.97C124.723 15.3873 124.337 14.5387 124.337 13.424C124.337 12.626 124.552 11.9167 124.983 11.296C125.413 10.6753 126.021 10.1877 126.807 9.833C127.605 9.47833 128.523 9.301 129.562 9.301C130.512 9.301 131.411 9.44667 132.26 9.738C133.121 10.0167 133.824 10.4093 134.369 10.916L133.552 12.702C132.348 11.7393 131.018 11.258 129.562 11.258C128.688 11.258 127.997 11.4417 127.491 11.809C126.984 12.1637 126.731 12.6513 126.731 13.272C126.731 13.804 126.952 14.2093 127.396 14.488C127.852 14.7667 128.624 15.0263 129.714 15.267C130.841 15.533 131.759 15.8243 132.469 16.141C133.178 16.445 133.723 16.844 134.103 17.338C134.483 17.8193 134.673 18.4273 134.673 19.162C134.673 19.9727 134.457 20.682 134.027 21.29C133.596 21.8853 132.975 22.3477 132.165 22.677C131.354 23.0063 130.398 23.171 129.296 23.171ZM137.344 9.472H146.388V11.41H139.738V15.153H145.989V17.091H139.738V21.062H146.388V23H137.344V9.472Z"
          fill="#A4A6B3"
        />
        <circle cx="16" cy="16" r="16" fill="#3751FF" />
        <path
          d="M11 10C11 9.44772 11.4477 9 12 9H15.9905C18.2127 9 19.9333 9.60955 21.1524 10.8287C22.3841 12.0478 23 13.765 23 15.9803C23 18.2088 22.3841 19.9391 21.1524 21.1713C19.9333 22.3904 18.2127 23 15.9905 23H12C11.4477 23 11 22.5523 11 22V10Z"
          fill="url(#paint0_linear_0_1)"
        />
        <defs>
          <linearGradient
            id="paint0_linear_0_1"
            x1="11"
            y1="9"
            x2="23"
            y2="23"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="white" stop-opacity="0.7" />
            <stop offset="1" stop-color="white" />
          </linearGradient>
        </defs>
      </svg>
    </div>
    <div class="d-flex align-content-start flex-wrap">
      <router-link to="/overview" class="m-1 w-100">
        <div v-if="!$store.state.collapseMenu" id="item-1-overview">
          <button
            class="
              border-0
              w-100
              p-1
              bg-transparent
              text-start text-white
              shadow-none
            "
            type="button"
          >
            <svg
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M15.5232 8.94116H8.54412L13.1921 13.5891C13.3697 13.7667 13.6621 13.7812 13.8447 13.6091C14.9829 12.5367 15.7659 11.0912 15.9956 9.46616C16.035 9.18793 15.8041 8.94116 15.5232 8.94116ZM15.0576 7.03528C14.8153 3.52176 12.0076 0.714119 8.49412 0.471767C8.22589 0.453237 8 0.679413 8 0.948236V7.5294H14.5815C14.8503 7.5294 15.0762 7.30352 15.0576 7.03528ZM6.58824 8.94116V1.96206C6.58824 1.68118 6.34147 1.45029 6.06353 1.48971C2.55853 1.985 -0.120585 5.04705 0.00412089 8.71675C0.132356 12.4856 3.37736 15.5761 7.14794 15.5288C8.6303 15.5103 10 15.0326 11.1262 14.2338C11.3585 14.0691 11.3738 13.727 11.1724 13.5256L6.58824 8.94116Z"
                fill="#DDE2FF"
              />
            </svg>

            <span class="ms-2">Overview</span>
          </button>
        </div>
        <!-- <div v-if="$store.state.collapseMenu" class="collapse-menu">
          <div class="dropdown collapse-menu" type="button">
            <div
              class="dropdown-toggle"
              id="dropdownMenuButton1"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              CC
            </div>
            <ul
              class="dropdown-menu shadow"
              aria-labelledby="dropdownMenuButton1"
            >
              <li>Li-item-1</li>
            </ul>
          </div>
        </div> -->
      </router-link>

      <router-link to="/databases" class="m-1 w-100">
        <div v-if="!$store.state.collapseMenu" id="item-1-overview">
          <button
            class="
              border-bottom-0
              border-white
              border-top-0
              border-start-0
              border-end-0
              w-100
              p-1
              bg-transparent
              text-start text-white
              shadow-none
            "
            type="button"
          >
            <svg
              width="16"
              height="12"
              viewBox="0 0 16 12"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                opacity="0.4"
                d="M3.55556 3.33334H12.4444V8.66667H3.55556V3.33334ZM14.6667 6C14.6667 6.73639 15.2636 7.33334 16 7.33334V10C16 10.7364 15.4031 11.3333 14.6667 11.3333H1.33333C0.596944 11.3333 0 10.7364 0 10V7.33334C0.736389 7.33334 1.33333 6.73639 1.33333 6C1.33333 5.26362 0.736389 4.66667 0 4.66667V2.00001C0 1.26362 0.596944 0.666672 1.33333 0.666672H14.6667C15.4031 0.666672 16 1.26362 16 2.00001V4.66667C15.2636 4.66667 14.6667 5.26362 14.6667 6ZM13.3333 3.11112C13.3333 2.74292 13.0349 2.44445 12.6667 2.44445H3.33333C2.96514 2.44445 2.66667 2.74292 2.66667 3.11112V8.88889C2.66667 9.25709 2.96514 9.55556 3.33333 9.55556H12.6667C13.0349 9.55556 13.3333 9.25709 13.3333 8.88889V3.11112Z"
                fill="#9FA2B4"
              />
            </svg>

            <span class="ms-2">Databases</span>
          </button>
        </div>
        <!-- <div v-if="$store.state.collapseMenu" class="collapse-menu">
          <div class="dropdown collapse-menu" type="button">
            <div
              class="dropdown-toggle"
              id="dropdownMenuButton1"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              CC
            </div>
            <ul
              class="dropdown-menu shadow"
              aria-labelledby="dropdownMenuButton1"
            >
              <li>Li-item-1</li>
            </ul>
          </div>
        </div> -->
      </router-link>
    </div>
    <div class="position-absolute bottom-0 w-100">
      <button
        class="
          border-0
          w-100
          p-1
          ms-1
          bg-transparent
          text-start text-white
          shadow-none
        "
        type="button"
        @click="logout"
      >
        <svg
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            opacity="0.4"
            d="M15.2313 9.86557L13.9 9.09682C14.0344 8.37182 14.0344 7.62807 13.9 6.90307L15.2313 6.13432C15.3844 6.04682 15.4531 5.86557 15.4031 5.69682C15.0563 4.58432 14.4656 3.57807 13.6938 2.74057C13.575 2.61244 13.3813 2.58119 13.2313 2.66869L11.9 3.43744C11.3406 2.95619 10.6969 2.58432 10 2.34057V0.806191C10 0.631191 9.87814 0.478066 9.70627 0.440566C8.55939 0.184316 7.38439 0.196816 6.29377 0.440566C6.12189 0.478066 6.00002 0.631191 6.00002 0.806191V2.34369C5.30627 2.59057 4.66252 2.96244 4.10002 3.44057L2.77189 2.67182C2.61877 2.58432 2.42814 2.61244 2.30939 2.74369C1.53752 3.57807 0.946895 4.58432 0.60002 5.69994C0.546895 5.86869 0.61877 6.04994 0.771895 6.13744L2.10314 6.90619C1.96877 7.63119 1.96877 8.37494 2.10314 9.09994L0.771895 9.86869C0.61877 9.95619 0.55002 10.1374 0.60002 10.3062C0.946895 11.4187 1.53752 12.4249 2.30939 13.2624C2.42814 13.3906 2.62189 13.4218 2.77189 13.3343L4.10314 12.5656C4.66252 13.0468 5.30627 13.4187 6.00314 13.6624V15.1999C6.00314 15.3749 6.12502 15.5281 6.29689 15.5656C7.44377 15.8218 8.61877 15.8093 9.70939 15.5656C9.88127 15.5281 10.0031 15.3749 10.0031 15.1999V13.6624C10.6969 13.4156 11.3406 13.0437 11.9031 12.5656L13.2344 13.3343C13.3875 13.4218 13.5781 13.3937 13.6969 13.2624C14.4688 12.4281 15.0594 11.4218 15.4063 10.3062C15.4531 10.1343 15.3844 9.95307 15.2313 9.86557ZM8.00002 10.4999C6.62189 10.4999 5.50002 9.37807 5.50002 7.99994C5.50002 6.62182 6.62189 5.49994 8.00002 5.49994C9.37814 5.49994 10.5 6.62182 10.5 7.99994C10.5 9.37807 9.37814 10.4999 8.00002 10.4999Z"
            fill="#9FA2B4"
          />
        </svg>

        <span class="ms-2">Logout</span>
      </button>
    </div>
  </div>
</template>

<script>
export default {
  name: "Sidebar",
  methods: {
    async logout() {
      try {
        let res = await this.$store.dispatch("logout", {
          redirectRoute: "login",
        });
        console.log(res);
      } catch (error) {
        console.log(error);
      }
    },
  },
};
</script>

<style lang="scss">
.sidebar {
  position: fixed;
  width: 250px;
  top: 0;
  bottom: 0;
  left: 0;
  z-index: 100;
  padding: 48px 0 0;
  height: 100vh;
  box-shadow: inset -1px 0 0 rgba(0, 0, 0, 0.1);
}
</style>
